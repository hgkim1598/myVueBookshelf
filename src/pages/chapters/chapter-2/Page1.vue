<script setup>
import ContentPage from '@/pages/ContentPage.vue'
import ExamplePair from '@/components/ExamplePair.vue'
import ExampleGroup from '@/components/ExampleGroup.vue'
import UserListContainer from './examples/UserListContainer.vue'

/** 1ë²ˆ ì˜ˆì œ */
import { ref } from 'vue'

const count = ref(0)
const disabled = ref(false)
const variants = ['primary', 'secondary', 'danger']
const variantIdx = ref(0)

function onClick () {
  if (disabled.value) return 
  count.value++
  if(count.value % 3 === 0) {
    disabled.value = true
  }
}

function toggleDisabled () {
  disabled.value = !disabled.value
}

function cycleVariant () {
  variantIdx.value = (variantIdx.value + 1) % variants.length
}
</script>
<template>
  <ContentPage>
    <template #concept>
      <h3>1. ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ì˜ ëª©ì </h3>
      <div class="list-center">
        <ul class="list--hang">
          <li><b>ìœ ì§€ë³´ìˆ˜ì„±</b>: í•œ íŒŒì¼ì˜ ì—­í• ì´ ëª…í™•í•´ì§€ê³  ìˆ˜ì • ë²”ìœ„ê°€ ì¢ì•„ì§‘ë‹ˆë‹¤.</li>
          <li><b>ì¬ì‚¬ìš©ì„±</b>: ì—¬ëŸ¬ í™”ë©´ì—ì„œ ê°™ì€ UIë¥¼ ì†ì‰½ê²Œ ê°€ì ¸ë‹¤ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
          <li><b>í…ŒìŠ¤íŠ¸ ìš©ì´ì„±</b>: ìƒíƒœì™€ UIë¥¼ ë‚˜ëˆ„ë©´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì™€ ì‹œê° í…ŒìŠ¤íŠ¸ë¥¼ ë³„ë„ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
          <li><b>í˜‘ì—… íš¨ìœ¨ì„±</b>: ë””ìì´ë„ˆ, ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œê°€ ì—­í• ë³„ë¡œ ë³‘ë ¬ ì‘ì—…ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
        </ul>
      </div>

      <div class="space-between-chapter" />

      <h3>2. ë¶„ë¦¬ ê¸°ì¤€: UI ë‹¨ìœ„ì™€ ë¡œì§ ë‹¨ìœ„</h3>
      <div class="table-scroll">
        <table class="table table--compact table--rowline">
          <caption style="position: absolute; left: -9999px;">UIì™€ ë¡œì§ ë‹¨ìœ„ì˜ ì—­í•  ë¹„êµ</caption>
          <thead>
            <tr>
              <th class="nowrap">êµ¬ë¶„</th>
              <th class="nowrap">ì—­í• </th>
              <th class="nowrap">Vue êµ¬ì„± ìš”ì†Œ</th>
              <th class="nowrap">ì…ì¶œë ¥ ê·œì¹™</th>
              <th class="nowrap">ì˜ˆì‹œ</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="nowrap"><code>UI ì»´í¬ë„ŒíŠ¸ (Presentational)</code></td>
              <td>í™”ë©´ í‘œì‹œì™€ ë‹¨ìˆœ ìƒí˜¸ì‘ìš©</td>
              <td><code>props</code>, <code>emits</code>, <code>slots</code></td>
              <td>ë¶€ëª¨ì—ê²Œ ë°›ì€ ë°ì´í„°ë¥¼ í‘œì‹œí•˜ê³  ì´ë²¤íŠ¸ë§Œ ì „ë‹¬</td>
              <td><code>BaseButton</code>, <code>UserCard</code></td>
            </tr>
            <tr>
              <td class="nowrap"><code>ë¡œì§ ì»´í¬ë„ŒíŠ¸ (Container)</code></td>
              <td>ë°ì´í„° ìš”ì²­, ìƒíƒœ ê´€ë¦¬, ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™</td>
              <td><code>script setup</code>, <code>composables</code>, <code>provide/inject</code></td>
              <td>ìƒíƒœë¥¼ ì†Œìœ í•˜ê³  UIì— ì „ë‹¬</td>
              <td><code>UserListContainer</code>, <code>ProductPage</code></td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="practical-tip">
        <span class="practical-tip__title">â˜ğŸ» ì‹¤ë¬´ í¬ì¸íŠ¸</span>
        <ul>
          <li>UI ì»´í¬ë„ŒíŠ¸ëŠ” <code>props</code>ë¡œ ê°’ì„ ë°›ê³ , <code>$emit()</code>ìœ¼ë¡œë§Œ ë³€ê²½ì„ ìš”ì²­í•©ë‹ˆë‹¤.</li>
          <li>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§(API, ìƒíƒœ, ê³„ì‚°)ì€ <code>composable</code> ë˜ëŠ” ìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ì´ë™í•©ë‹ˆë‹¤.</li>
        </ul>
      </div>

      <div class="space-between-chapter" />

      <h3>3. ì¬ì‚¬ìš©ì„± ë†’ì€ ë‹¨ìœ„ë¡œ ìª¼ê°œê¸°</h3>
      <div class="table-scroll">
        <table class="table table--compact table--rowline">
          <caption style="position: absolute; left: -9999px;">ì¬ì‚¬ìš© ê¸°ì¤€ íŒë‹¨í‘œ</caption>
          <thead>
            <tr>
              <th>íŒë‹¨ ì§ˆë¬¸</th>
              <th>ì˜ˆ/ì•„ë‹ˆì˜¤</th>
              <th>ê°€ì´ë“œ</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>ì—¬ëŸ¬ í™”ë©´ì—ì„œ ë™ì¼í•œ í˜•íƒœë¡œ ì‚¬ìš© ê°€ëŠ¥í•œê°€?</td>
              <td>ì˜ˆ</td>
              <td><code>Base*</code> ë˜ëŠ” <code>App*</code> í˜•íƒœë¡œ ë¶„ë¦¬</td>
            </tr>
            <tr>
              <td>í…ìŠ¤íŠ¸, ìƒ‰ìƒ, ì•„ì´ì½˜ë§Œ ë°”ê¾¸ë©´ ì¬ì‚¬ìš© ê°€ëŠ¥í•œê°€?</td>
              <td>ì˜ˆ</td>
              <td><code>props</code>ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§• í¬ì¸íŠ¸ ë…¸ì¶œ</td>
            </tr>
            <tr>
              <td>ë°ì´í„° ìš”ì²­/API í˜¸ì¶œì´ í¬í•¨ë˜ì–´ ìˆëŠ”ê°€?</td>
              <td>ì˜ˆ</td>
              <td>UIì™€ ë¶„ë¦¬í•˜ê³ , ì»¨í…Œì´ë„ˆ ë˜ëŠ” <code>use*</code>ë¡œ ì´ë™</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="practical-tip">
        <span class="practical-tip__title">â˜ğŸ» ì‹¤ë¬´ í¬ì¸íŠ¸</span>
        <ul>
          <li><code>props</code>ëŠ” ëª…í™•í•œ ì´ë¦„ìœ¼ë¡œ ìµœì†Œí•œë§Œ ì „ë‹¬í•©ë‹ˆë‹¤.</li>
          <li>UIë§Œ ë‹¤ë¥¸ ê²½ìš°ëŠ” <code>variant</code> propsë¡œ í†µì¼í•˜ì„¸ìš”. ì˜ˆ: <code>variant="primary"</code></li>
        </ul>
      </div>

      <div class="space-between-chapter" />

      <h3>4. ì§€ë‚˜ì¹˜ê²Œ ì˜ê²Œ ìª¼ê°œì§€ì§€ ì•Šë„ë¡</h3>
      <div class="list-center">
        <ul class="list--hang">
          <li>íŒŒì¼ ê¸¸ì´ê°€ ì•„ë‹ˆë¼ <b>ë³€ê²½ ì´ìœ (Responsibility)</b>ë¡œ ë¶„ë¦¬í•©ë‹ˆë‹¤.</li>
          <li>ë‘ì„¸ êµ°ë°ì—ì„œë§Œ ì“°ì´ëŠ” ë˜í¼ëŠ” ë³„ë„ íŒŒì¼ë¡œ ë¶„ë¦¬í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.</li>
          <li>â€œì´ ì»´í¬ë„ŒíŠ¸ì˜ ì´ë¦„ì„ ë­ë¼ê³  í•´ì•¼ í•˜ì§€?â€ ì‹¶ë‹¤ë©´, ì•„ì§ ë¶„ë¦¬í•  ì‹œì ì´ ì•„ë‹™ë‹ˆë‹¤.</li>
          <li>ë””ìì¸ë§Œ ë‹¤ë¥¸ ê²½ìš°, ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ë³´ë‹¨ <code>variant</code> propsë¡œ í•´ê²°í•©ë‹ˆë‹¤.</li>
        </ul>
      </div>

      <div class="practical-tip">
        <span class="practical-tip__title">â˜ğŸ» ì‹¤ë¬´ í¬ì¸íŠ¸</span>
        <ul>
          <li>íŒŒì¼ ìˆ˜ë³´ë‹¤ í˜‘ì—…ê³¼ ìœ ì§€ë³´ìˆ˜ì˜ í¸ì˜ì„±ì„ ê¸°ì¤€ìœ¼ë¡œ íŒë‹¨í•˜ì„¸ìš”.</li>
          <li>â€œì´ ê¸°ëŠ¥ì´ ì–´ë””ì— ì†í•˜ë‚˜?â€ ê³ ë¯¼ëœë‹¤ë©´, ì•„ì§ ì‘ì§‘ë„ê°€ ë‚®ë‹¤ëŠ” ì‹ í˜¸ì…ë‹ˆë‹¤.</li>
        </ul>
      </div>
    </template>

    <template #code>
      <ExamplePair
        title="Ex1) BaseButton: UI ì „ìš© ì»´í¬ë„ŒíŠ¸"
        :note="`UIë§Œ ë‹´ë‹¹í•˜ëŠ” ê¸°ë³¸ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ ì˜ˆì‹œì…ë‹ˆë‹¤. ìƒíƒœ, API í˜¸ì¶œ, ë¡œì§ì€ í¬í•¨í•˜ì§€ ì•Šê³  props/emitsë§Œ ì •ì˜í•©ë‹ˆë‹¤.`"
      >
        <template #code>
<pre v-pre><code>
&lt;!-- StandaloneButton.vue --&gt;
&lt;script setup&gt;
import { ref } from 'vue'

const count = ref(0)
const disabled = ref(false)
const variants = ['primary', 'secondary', 'danger']
const variantIdx = ref(0)

function onClick () {
  if (disabled.value) return
  count.value++
  // 3íšŒë§ˆë‹¤ ë¹„í™œì„±í™” &amp; ìŠ¤íƒ€ì¼ ìˆœí™˜
  if (count.value % 3 === 0) {
    disabled.value = true
  }
}

function toggleDisabled () {
  disabled.value = !disabled.value
}

function cycleVariant () {
  variantIdx.value = (variantIdx.value + 1) % variants.length
}
&lt;/script&gt;

&lt;template&gt;
  &lt;div class=&quot;demo-wrap&quot;&gt;
    &lt;button
      class=&quot;btn&quot;
      :class=&quot;variants[variantIdx]&quot;
      :disabled=&quot;disabled&quot;
      @click=&quot;onClick&quot;
      aria-live=&quot;polite&quot;
    &gt;
      í´ë¦­: {{ count }}íšŒ (variant: {{ variants[variantIdx] }})
    &lt;/button&gt;

    &lt;div class=&quot;controls&quot;&gt;
      &lt;button class=&quot;btn ghost&quot; @click=&quot;cycleVariant&quot;&gt;ìŠ¤íƒ€ì¼ ë°”ê¾¸ê¸°&lt;/button&gt;
      &lt;button class=&quot;btn ghost&quot; @click=&quot;toggleDisabled&quot;&gt;
        {{ disabled ? 'í™œì„±í™”' : 'ë¹„í™œì„±í™”' }}
      &lt;/button&gt;
    &lt;/div&gt;

    &lt;p class=&quot;hint&quot;&gt;ë²„íŠ¼ì„ 3íšŒ ëˆ„ë¥´ë©´ ìë™ìœ¼ë¡œ ë¹„í™œì„±í™”ë©ë‹ˆë‹¤.&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
.demo-wrap { display: grid; gap: 8px; align-items: start; }
.controls { display: flex; gap: 8px; }
.btn { padding: 8px 12px; border-radius: 8px; border: 1px solid #ddd; cursor: pointer; }
.btn:disabled { opacity: .6; cursor: not-allowed; }
.btn.primary { background: #2d6cdf; color: #fff; border-color: #2d6cdf; }
.btn.secondary { background: #e8eefc; color: #2d6cdf; border-color: #bcd1ff; }
.btn.danger { background: #ffe9e9; color: #d12d2d; border-color: #ffc5c5; }
.btn.ghost { background: transparent; }
.hint { font-size: 12px; color: #666; }
&lt;/style&gt;
</code></pre>
        </template>

        <template #result>
          <div class="demo-wrap">
            <button
              type="button"
              class="btn"
              :class="variants[variantIdx]"
              :disabled="disabled"
              @click="onClick"
              aria-live="polite"
            >
            í´ë¦­: {{ count }} íšŒ (variant: {{ variants[variantIdx] }})
            </button>
          </div>

          <div class="controls">
            <button class="example-btn" @click="cycleVariant">ìŠ¤íƒ€ì¼ ë°”ê¾¸ê¸°</button>
            <button class="example-btn" @click="toggleDisabled">
              {{ disabled ? 'í™œì„±í™”' : 'ë¹„í™œì„±í™”' }}
            </button>
          </div>

          <p class="hint">ë²„íŠ¼ì„ 3íšŒ ëˆ„ë¥´ë©´ ìë™ìœ¼ë¡œ ë¹„í™œì„±í™” ë©ë‹ˆë‹¤.</p>
        </template>
      </ExamplePair>
      <ExampleGroup
        title="Ex2) UserListContainer + UserList: ë¡œì§ê³¼ UI ë¶„ë¦¬"
        :note="`ì»¨í…Œì´ë„ˆëŠ” ë°ì´í„° ìš”ì²­/ìƒíƒœ ê´€ë¦¬, ìì‹ì€ í‘œì‹œ ì „ìš©ì…ë‹ˆë‹¤. ì„œë¡œì˜ ì—­í• ì´ ê²¹ì¹˜ì§€ ì•Šë„ë¡ ì„¤ê³„í•©ë‹ˆë‹¤.`"
      >
        <template #code-parent>
  <pre v-pre><code>&lt;!-- UserListContainer.vue --&gt;
  &lt;script setup&gt;
  import { ref, onMounted } from 'vue'
  import UserList from './UserList.vue'

  const users = ref([])
  const loading = ref(false)
  const error = ref('')

  onMounted(async () =&gt; {
    try {
      loading.value = true
      // ì‹¤ì œ API ìš”ì²­ ëŒ€ì‹  ê°€ìƒ ë°ì´í„°ë¡œ í‘œì‹œ
      users.value = [{ id: 1, name: 'í™ê¸¸ë™' }, { id: 2, name: 'ê¹€ë¯¼ìˆ˜' }]
    } catch (e) {
      error.value = 'ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.'
    } finally {
      loading.value = false
    }
  })

  function onSelect(user) {
    console.log('ì„ íƒí•œ ì‚¬ìš©ì:', user)
  }
  &lt;/script&gt;

  &lt;template&gt;
    &lt;UserList
      :users=&quot;users&quot;
      :loading=&quot;loading&quot;
      :error=&quot;error&quot;
      @select=&quot;onSelect&quot;
    /&gt;
  &lt;/template&gt;
  </code></pre>
        </template>

        <template #code-child>
  <pre v-pre><code>&lt;!-- UserList.vue --&gt;
  &lt;script setup&gt;
  defineProps({
    users: Array,
    loading: Boolean,
    error: String
  })
  const emit = defineEmits(['select'])
  &lt;/script&gt;

  &lt;template&gt;
    &lt;div v-if=&quot;loading&quot;&gt;ë¡œë”© ì¤‘...&lt;/div&gt;
    &lt;div v-else-if=&quot;error&quot;&gt;{{ error }}&lt;/div&gt;
    &lt;ul v-else&gt;
      &lt;li
        v-for=&quot;user in users&quot;
        :key=&quot;user.id&quot;
        @click=&quot;emit('select', user)&quot;
      &gt;
        {{ user.name }}
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/template&gt;
  </code></pre>
        </template>

        <template #result-parent>
          <UserListContainer />
        </template>
      </ExampleGroup>

    </template>

  </ContentPage>

</template>

<style scoped>
.demo-wrap { display: grid; gap: 8px; align-items: start; }
.controls { display: flex; gap: 8px; }
.btn { padding: 8px 12px; border-radius: 8px; border: 1px solid #ddd; cursor: pointer; }
.btn:disabled { opacity: .6; cursor: not-allowed; }
.btn.primary { background: #2d6cdf; color: #fff; border-color: #2d6cdf; }
.btn.secondary { background: #e8eefc; color: #2d6cdf; border-color: #bcd1ff; }
.btn.danger { background: #ffe9e9; color: #d12d2d; border-color: #ffc5c5; }
.btn.ghost { background: transparent; }
.hint { font-size: 12px; color: #666; }
</style>